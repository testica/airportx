/*! vi HTML SDK - v1.0.0 */
"use strict";!function(a,b,c){function d(b,c){var d,e=Math.min(b,c),f="http:"===a.location.protocol?"http:":"https:";return d=e>=1080?{bL:54,bB:54,bW:100,bH:100,mR:54,mB:54,mW:100,mH:100,sT:54,sR:54,sW:100,sH:100,pH:9,pcR:0,pcB:9,pcW:100,pcH:54}:e>=720?{bL:36,bB:36,bW:70,bH:70,mR:36,mB:36,mW:70,mH:70,sT:36,sR:36,sW:70,sH:70,pH:6,pcR:0,pcB:6,pcW:70,pcH:36}:e>=540?{bL:27,bB:27,bW:52,bH:52,mR:27,mB:27,mW:52,mH:52,sT:27,sR:27,sW:52,sH:52,pH:5,pcR:0,pcB:5,pcW:52,pcH:27}:e>=480?{bL:24,bB:24,bW:47,bH:47,mR:24,mB:24,mW:47,mH:47,sT:24,sR:24,sW:47,sH:47,pH:4,pcR:0,pcB:4,pcW:47,pcH:24}:{bL:18,bB:18,bW:35,bH:35,mR:18,mB:18,mW:35,mH:35,sT:18,sR:18,sW:35,sH:35,pH:3,pcR:0,pcB:3,pcW:35,pcH:18},d.mOn=f+"//c.vi-serve.com/viadshtml/vi_soundon.png",d.mOf=f+"//c.vi-serve.com/viadshtml/vi_soundoff.png",d.sI=f+"//c.vi-serve.com/viadshtml/vi_skip.png",d.bI=f+"//c.vi-serve.com/viadshtml/vi_logo.png",d}function e(a,b){if(!(b>1)){console.log("[vi] "+a)}}var f={},g=null;f.Ad=function(a){if(this.vpaidFrame=null,this.params={showBranding:!0,showProgress:!0,showProgressCountdown:!1,showMute:!1,startMuted:!1,showSkip:!0,showSkipCountdown:!1,skipTime:4,handleKeys:!0,videoSlot:null,placementType:"interstitial"},a&&"[object Object]"===Object.prototype.toString.call(a))for(var b in a)a.hasOwnProperty(b)&&(this.params[b]=a[b])},f.Ad.prototype.initAd=function(){var c=this,f=b.createElement("iframe");f.id="viAd",f.frameBorder=0,f.scrolling="no",f.style.display="none",f.onload=function(){var b=f.contentWindow.document,h=b.createElement("div");h.id="adC",h.setAttribute("style","position: absolute; width: 100%; height: 100%; top: 0; left: 0; overflow: hidden;");var i=c.params.videoSlot;i||(i=b.createElement("video"),i.id="adV",i.playsInline=!0,i.setAttribute("webkit-playsinline",""),i.setAttribute("style","width: 100%; height: 100%;"),i.type="video/mp4",h.appendChild(i)),c.params.startMuted&&(i.muted=!0),b.body.appendChild(h);var j=d(c.params.width||1280,c.params.height||720);if(c.params.showMute){var k=b.createElement("img");k.id="mb",k.setAttribute("style","position: absolute; bottom: "+j.mB+"px; right: "+j.mR+"px; width: "+j.mW+"px; height: "+j.mH+"px;"),k.src=c.params.startMuted?j.mOn:j.mOf,b.body.appendChild(k)}if(c.params.showSkip){var l=b.createElement("img");l.id="sb",l.setAttribute("style","position: absolute; top: "+j.sT+"px; right: "+j.sR+"px; width: "+j.sW+"px; height: "+j.sH+"px;"),l.src=j.sI,b.body.appendChild(l)}if(c.params.showBranding){var m=b.createElement("img");m.id="vl",m.setAttribute("style","position: absolute; left: "+j.bL+"px; bottom: "+j.bB+"px; width: "+j.bW+"px; height: "+j.bH+"px;"),m.src=j.bI,b.body.appendChild(m)}if(c.params.showProgress){var n=b.createElement("div");n.id="pb",n.setAttribute("style","background-color: rgba(255,255,255,0.3); position: absolute; left: 0; bottom: 0; width: 100%; height: "+j.pH+"px;");var o=b.createElement("div");o.id="ps",o.setAttribute("style","display: inline-block; background-color: #fff200; position: absolute; left: 0; height: "+j.pH+"px;"),n.appendChild(o),b.body.appendChild(n)}if(c.params.showProgressCountdown){var p=b.createElement("div");p.id="pc",p.setAttribute("style","position: absolute; right: "+j.pcR+"px; bottom: "+j.pcB+"px; width: "+j.pcW+"px; height: "+j.pcH+"px; line-height: "+j.pcH+"px; font-size: "+j.pcH+"px; font-weight: bold; text-align: center; color: rgb(255, 242, 0);"),b.body.appendChild(p)}g=function(a){var b=a&&a.target;b&&("mb"===b.id?i.muted?(i.muted=!1,k.src=j.mOf):(i.muted=!0,k.src=j.mOn):"sb"===b.id&&c.vpaidAdUnit.stopAd())},b.addEventListener("click",g,!1);var q=b.createElement("script");q.src=("http:"===a.location.protocol?"http:":"https:")+"//c.vi-serve.com/viadshtml/viFrame.min.js",q.onload=function(){var a=f.contentWindow.getVPAIDAd();a.subscribe(function(){e("Event: AdLoaded",1),"function"==typeof c.onAdReady&&c.onAdReady()},"AdLoaded"),a.subscribe(function(){e("Event: AdVideoStart",1),"function"==typeof c.onAdStarted&&c.onAdStarted()},"AdVideoStart"),a.subscribe(function(){e("Event: AdImpression",1),"function"==typeof c.onAdImpression&&c.onAdImpression()},"AdImpression"),a.subscribe(function(a){e("Event: AdClickThru",1),"function"==typeof c.onAdClick&&c.onAdClick(a)},"AdClickThru"),a.subscribe(function(a){e("Event: AdStopped ("+a+")",1),c.cleanup(),"function"==typeof c.onAdStopped&&c.onAdStopped(a)},"AdStopped"),a.subscribe(function(a,b){e("Event: AdError / "+a,b),c.cleanup(),"function"==typeof c.onAdError&&c.onAdError(a)},"AdError"),a.subscribe(function(a,b){e("Event: AdLog / "+a,b)},"AdLog"),a.subscribe(function(a,b){e("Event: AdAutoPlayFailed",1),"function"==typeof c.onAutoPlayFailed&&c.onAutoPlayFailed(a,b)},"AdAutoPlayFailed");var b={slot:h,videoSlot:i,VI_PLACEMENT_ID:c.params.placementId,VI_PLACEMENT_TYPE:c.params.placementType,VI_APP_ID:c.params.appId,VI_APP_VER:c.params.appVer};c.params.ip&&(b.VI_IP=c.params.ip),c.params.manufacturer&&(b.VI_MANUFACTURER=c.params.manufacturer),c.params.model&&(b.VI_MODEL=c.params.model),c.params.connectionType&&(b.VI_CON_TYPE=c.params.connectionType),c.params.connectionProvider&&(b.VI_CON_PROVIDER=c.params.connectionProvider),c.params.language&&(b.VI_LANG=c.params.language),c.params.width&&(b.VI_WIDTH=c.params.width),c.params.height&&(b.VI_HEIGHT=c.params.height),c.params.os&&(b.VI_OS=c.params.os),c.params.osVersion&&(b.VI_OS_VERSION=c.params.osVersion),c.params.orientation&&(b.VI_ORIENTATION=c.params.orientation),c.params.age&&(b.VI_AGE=c.params.age),c.params.gender&&(b.VI_GENDER=c.params.gender),c.params.advertiserId&&(b.VI_ADVERTISER_ID=c.params.advertiserId),c.params.latitude&&(b.VI_LAT=c.params.latitude),c.params.longitude&&(b.VI_LONG=c.params.longitude),c.params.accuracy&&(b.VI_ACCURACY=c.params.accuracy),a.initAd(c.params.width,c.params.height,"normal",600,{},b),c.vpaidAdUnit=a},b.body.appendChild(q)},b.body.appendChild(f),this.vpaidFrame=f},f.Ad.prototype.startAd=function(){this.vpaidFrame.setAttribute("style","width: "+(this.params.width||1280)+"px; height: "+(this.params.height||720)+"px; position: absolute; top: 0; left: 0; z-index: 998;"),this.vpaidAdUnit&&this.vpaidAdUnit.startAd()},f.Ad.prototype.pauseAd=function(){this.vpaidAdUnit&&this.vpaidAdUnit.pauseAd()},f.Ad.prototype.resumeAd=function(){this.vpaidAdUnit&&this.vpaidAdUnit.resumeAd()},f.Ad.prototype.stopAd=function(){this.vpaidAdUnit&&this.vpaidAdUnit.stopAd()},f.Ad.prototype.cleanup=function(){g&&(this.vpaidFrame.contentWindow.document.removeEventListener("click",g,!1),g=null),this.vpaidFrame.onload=this.vpaidAdUnit=null,this.vpaidFrame.parentNode&&this.vpaidFrame.parentNode.removeChild(this.vpaidFrame),this.vpaidFrame=null},f.Ad.prototype.onAdReady=null,f.Ad.prototype.onAutoPlayFailed=null,f.Ad.prototype.onAdStarted=null,f.Ad.prototype.onAdImpression=null,f.Ad.prototype.onAdClick=null,f.Ad.prototype.onAdStopped=null,f.Ad.prototype.onAdError=null,a.vi=f}(window,window.document);